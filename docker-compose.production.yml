version: '3'
services:
  app:
    image: memorizer_app:production
    # command: tail -f log/production.log
    volumes:
      - public-data:/myapp/public
      - socket-data:/myapp/tmp/sockets
    ports:
      - "3000:3000"

  web:
    image: memorizer_web:latest
    volumes:
      - public-data:/myapp/public
      - socket-data:/myapp/tmp/sockets
    ports:
      - 80:80
    depends_on:
      - app

volumes:
  public-data:
  socket-data:
